## 14.1 HTTP를 안전하게 만들기

**HTTP 보안 기술을 사용함으로써 얻을 수 있는 것들**

1. 서버 인증 - 클라이언트는 자신이 위조된 서버가 아닌 진짜와 통신하고 있음을 알 수 있어야 한다.
2. 클라이언트 인증 - 서버는 자신이 가짜가 아닌 진짜 사용자와 통신하고 있음을 알 수 있어야 한다.
3. 무결성 - 클라이언트와 서버는 그들의 데이터가 위조되는 것으로부터 안전해야 한다.
4. 암호화 - 클라이언트와 서버는 제 3자의 도청에 대해 걱정 없이 서로 통신할 수 있어야 한다.
5. 효율 - 저렴한 클라이언트나 서버도 이용할 수 있도록 알고리즘은 충분히 빨라야 한다.
6. 편재성 - 프로토콜은 거의 모든 클라이언트와 서버에서 지원되어야 한다.
7. 관리상 확장성 - 누구든 어디서든 보안 통신을 할 수 있어야 한다.
8. 적응성 - 현재 알려진 최선의 보안 방법을 지원해야 한다.
9. 사회적 생존성 - 사회의 문화적, 정치적 요구를 만족시켜야 한다.

### 1) HTTPS

- 넷스케이프에서 개척하였으면 모든 주류 브라우저와 서버에서 지원한다.
- HTTPS를 사용할 때, 모든 요청과 응답 데이터는 네트워크로 보내지기 전에 암호화된다.
- HTTPS는 HTTP 하위 계층에 보안 계층을 제공함으로써 동작한다.
- TLS와 SSL은 매우 비슷하며 관례적으로 SSL 표현을 많이 사용한다.

### 2) 디지털 암호학

- SSL과 HTTPS에서 이용되는 암호 인코딩 기법

_암호_

- 텍스트를 아무나 읽지 못하도록 인코딩하는 알고리즘

_키_

- 암호의 동작을 변경하는 숫자로 된 매개변수

_대칭키 암호 체계_

- 인코딩과 디코딩에 같은 키를 사용하는 알고리즘

_비대칭키 암호 체계_

- 인코딩과 디코딩에 다른 키를 사용하는 알고리즘

_공개키 암호법_

- 비밀 메시지를 전달하는 수백만 대의 컴퓨터를 쉽게 만들 수 있는 시스템

_디지털 서명_

- 메시지가 위조 혹은 변조되지 않았음을 입증하는 체크섬

> 체크섬(checksum)이란?  
> 번호 등에 오류가 존재하는 바의 여부를 확인하기 위해 추가로 끼워넣는 번호로 대개 0~9 중 하나다.

_디지털 인증성_

- 신뢰할 만한 조직에 의해 서명되고 검증된 신원 확인 정보

### 1) 암호(cipher)

- 암호란 메시지를 인코딩하는 어떤 특정한 방법과 나중에 그 비밀 메시지를 디코딩하는 방법이다.
- 평문 혹은 텍스트 -> 암호 -> 암호문

### 2) 키가 있는 암호

- 디코딩 과정을 바르게 동작시키려면 올바른 키를 암호 기계에 입력할 필요가 있다.
- 똑같은 평문을 어떤 키로 암호화 하느냐에 따라 다른 암호문이 생성된다.
- 오늘날 거의 대부분 암호 알고리즘은 키를 사용한다.

### 3) 디지털 암호

- 속도 및 기능이 좋아지면서, 복잡한 인코딩과 디코딩 알고리즘이 가능해졌다.
- 매우 큰 키를 지원하는 것이 가능해져서, 단일 암호 알고리즘으로 키의 값마다 다른 수조 개의 가상 암호 알고리즘을 만들어낼 수 있게 되었다.

> 평문 P, 암호문 C, 인코더 E, 디코더 D, 인코딩 키 e, 디코딩 키 d  
> C = E(P, e)  
> P = D(C, d)

## 14.3 대칭키 암호법

- 대칭키 암호법은 인코딩을 할 때 사용하는 키가 디코딩을 할 때 사용하는 키와 같다(e = d).
- 대칭키 암호법에서의 키를 k라 부르자.
- 발송자와 수신자 모두 통신을 위해 비밀키 k를 똑같이 공유할 필요가 있다.
- 발송자는 평문을 k로 암호화하여 수신자에게 발송하고, 수신자는 암호문을 수신하여 k로 복호화한다.

### 1) 키 길이와 열거 공격(Enummeration Attack)

- 무차별로 모든 키 값을 대입해보는 공격을 열거 공격이라고 한다.
- 가능한 키 값의 개수는 키가 몇 비트이며 얼마나 많은 키가 유요한지에 달려있다.

### 2) 공유키 발급하기

- 클라이언트는 서버와 암호화 된 대화를 하기 위해 클라이언트와 서버만의 개인 비밀 키를 발급해야 한다.
- 그러려면 비밀 키를 발급하고 그것을 기억할 방법이 필요하다.
- 클라이언트가 수천 개 라면 서버는 수천 개의 비밀 키를 생성하고 기억해야 할 것이다.
- 그 키를 관리해야 하는 사람 입장에서 이것은 지옥이다.

## 14.4 공개키 암호법

- 한 쌍의 호스트가 하나의 인코딩/디코딩 키를 사용하는 대신, 공개키 암호 방식은 두 개의 비대칭 키를 사용한다.
- 하나는 메시지 인코딩을 위한 것, 다른 하나는 메시지를 디코딩하기 위한 것
- 인코딩 키는 모두에게 공개되어 있지만 디코딩 키는 호스트만이 알고 있다.
- 서버는 자신의 인코딩 키를 공개적으로 배포했기 때문에 메시지를 서버에게 보내고자 하는 누구나 똑같고 잘 알려진 키를 사용함으로써 키가 폭발적으로 증가하는 것을 막을 수 있다.

### 1) RSA

- 공개키 비대칭 암호의 과제는, 해커가 아래 내용을 알고 있다 해도 비밀인 개인 키를 계산할 수 없다는 것을 확신시켜 주는 것이다.

1. 공개키(물론 공개니까 누구나 얻을 수 있다)
2. 가로채서 얻은 암호문의 일부(네트워크를 스누핑해서 획득)
3. 메시지와 그것을 암호화한 암호문(인코더에 임의의 텍스트를 넣고 실행해서 획득)

> 스누핑이란?  
> 스누핑(Snooping)의 Snoop은 '기웃거리다, 염탐하다'라는 뜻을 가진 단어로,  
> 네트워크 상에서 떠도는 정보를 몰래 획득하다라는 행위를 말한다.

- 이 모든 요구를 만족하는 공개키 암호 체계 중 RSA 데이터 시큐리티에서 상용화된 RSA 알고리즘이 가장 유명하다.

### 2) 혼성 암호 체계와 세션 키

- 공개 키 암호 방식의 알고리즘은 계산이 느린 경향이 있다.
- 그래서 대칭과 비대칭 방식을 섞은 것이 쓰인다.

## 14.5 디지털 서명

-
